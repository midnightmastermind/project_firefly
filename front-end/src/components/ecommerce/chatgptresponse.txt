

with this being the two formats of products (variables and variations), and variations are a just going to be children of the type variables through the SKU field and parent field, I need to convert each object to reflect that. Have the final array be the list of type variable products and having all of its variations in a variation parameter
I need a function that pulls this array of objects and organizes it in this way

{
  "_id": {
    "$oid": "65b7dc54cf74c369c84be2b3"
  },
  "ID": 17,
  "Type": "variable",
  "SKU": "MH01",
  "Name": "Chaz Kangeroo Hoodie",
  "Published": 1,
  "Is featured?": 0,
  "Visibility in catalog": "visible",
  "Short description": "This is a variable product called a Chaz Kangeroo Hoodie",
  "description": "<p>Ideal for cold-weather training or work outdoors, the Chaz Hoodie promises superior warmth with every wear. Thick material blocks out the wind as ribbed cuffs and bottom band seal in body heat.</p> <p>&bull; Two-tone gray heather hoodie.<br />&bull; Drawstring-adjustable hood. <br />&bull; Machine wash/dry.</p>",
  "In stock?": 1,
  "Stock": 0,
  "Backorders allowed?": 0,
  "Sold individually?": 0,
  "Allow customer reviews?": 1,
  "Regular price": 52,
  "Categories": "Clothing>Men>Tops>Hoodies & Sweatshirts|Clothing>Collections>Eco Friendly|Clothing",
  "Images": "http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_main.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_alt1.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_back.jpg",
  "Attribute 1 name": "Size",
  "Attribute 1 value(s)": "XS|S|M|L|XL",
  "Attribute 2 name": "Color",
  "Attribute 2 value(s)": "Black|Gray|Orange",
  "allow_backorders": 0,
  "allow_customer_reviews": 1,
  "attribute_1_name": "Size",
  "attribute_1_values": "XS|S|M|L|XL",
  "attribute_2_name": "Color",
  "attribute_2_values": "Black|Gray|Orange",
  "catalog_visibility": "visible",
  "id": 17,
  "is_featured": 0,
  "is_in_stock": 1,
  "is_published": 1,
  "is_sold_individually": 0,
  "product_categories": "Clothing>Men>Tops>Hoodies & Sweatshirts|Clothing>Collections>Eco Friendly|Clothing",
  "product_description": "<p>Ideal for cold-weather training or work outdoors, the Chaz Hoodie promises superior warmth with every wear. Thick material blocks out the wind as ribbed cuffs and bottom band seal in body heat.</p> <p>&bull; Two-tone gray heather hoodie.<br />&bull; Drawstring-adjustable hood. <br />&bull; Machine wash/dry.</p>",
  "product_images": "http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_main.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_alt1.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_back.jpg",
  "product_name": "Chaz Kangeroo Hoodie",
  "product_price": 52,
  "product_type": "variable",
  "short_description": "This is a variable product called a Chaz Kangeroo Hoodie",
  "sku": "MH01",
  "stock_quantity": 0
}

{
  "_id": {
    "$oid": "65b7dc54cf74c369c84be2b4"
  },
  "ID": 11,
  "Type": "variation",
  "SKU": "MH01-L-Black",
  "Name": "Chaz Kangeroo Hoodie-L-Black",
  "Published": 1,
  "Is featured?": 0,
  "Visibility in catalog": "visible",
  "description": "<p>Ideal for cold-weather training or work outdoors, the Chaz Hoodie promises superior warmth with every wear. Thick material blocks out the wind as ribbed cuffs and bottom band seal in body heat.</p> <p>&bull; Two-tone gray heather hoodie.<br />&bull; Drawstring-adjustable hood. <br />&bull; Machine wash/dry.</p>",
  "In stock?": 1,
  "Stock": 100,
  "Backorders allowed?": 0,
  "Sold individually?": 0,
  "Weight (lbs)": 1,
  "Allow customer reviews?": 1,
  "Regular price": 52,
  "Categories": "Clothing>Men>Tops>Hoodies & Sweatshirts|Clothing>Collections>Eco Friendly|Clothing",
  "Images": "http://eimages.valtim.com/acme-images/product/m/h/mh01-black_main.jpg",
  "Parent": "MH01",
  "Attribute 1 name": "Size",
  "Attribute 1 value(s)": "L",
  "Attribute 2 name": "Color",
  "Attribute 2 value(s)": "Black",
  "allow_backorders": 0,
  "allow_customer_reviews": 1,
  "attribute_1_name": "Size",
  "attribute_1_values": "L",
  "attribute_2_name": "Color",
  "attribute_2_values": "Black",
  "catalog_visibility": "visible",
  "id": 11,
  "is_featured": 0,
  "is_in_stock": 1,
  "is_published": 1,
  "is_sold_individually": 0,
  "product_categories": "Clothing>Men>Tops>Hoodies & Sweatshirts|Clothing>Collections>Eco Friendly|Clothing",
  "product_description": "<p>Ideal for cold-weather training or work outdoors, the Chaz Hoodie promises superior warmth with every wear. Thick material blocks out the wind as ribbed cuffs and bottom band seal in body heat.</p> <p>&bull; Two-tone gray heather hoodie.<br />&bull; Drawstring-adjustable hood. <br />&bull; Machine wash/dry.</p>",
  "product_images": "http://eimages.valtim.com/acme-images/product/m/h/mh01-black_main.jpg",
  "product_name": "Chaz Kangeroo Hoodie-L-Black",
  "product_price": 52,
  "product_type": "variation",
  "sku": "MH01-L-Black",
  "stock_quantity": 100
}
{
  "_id": {
    "$oid": "65b7dc54cf74c369c84be2b8"
  },
  "ID": 9,
  "Type": "variation",
  "SKU": "MH01-M-Gray",
  "Name": "Chaz Kangeroo Hoodie-M-Gray",
  "Published": 1,
  "Is featured?": 0,
  "Visibility in catalog": "visible",
  "description": "<p>Ideal for cold-weather training or work outdoors, the Chaz Hoodie promises superior warmth with every wear. Thick material blocks out the wind as ribbed cuffs and bottom band seal in body heat.</p> <p>&bull; Two-tone gray heather hoodie.<br />&bull; Drawstring-adjustable hood. <br />&bull; Machine wash/dry.</p>",
  "In stock?": 1,
  "Stock": 100,
  "Backorders allowed?": 0,
  "Sold individually?": 0,
  "Weight (lbs)": 1,
  "Allow customer reviews?": 1,
  "Regular price": 52,
  "Categories": "Clothing>Men>Tops>Hoodies & Sweatshirts|Clothing>Collections>Eco Friendly|Clothing",
  "Images": "http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_main.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_alt1.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_back.jpg",
  "Parent": "MH01",
  "Attribute 1 name": "Size",
  "Attribute 1 value(s)": "M",
  "Attribute 2 name": "Color",
  "Attribute 2 value(s)": "Gray",
  "allow_backorders": 0,
  "allow_customer_reviews": 1,
  "attribute_1_name": "Size",
  "attribute_1_values": "M",
  "attribute_2_name": "Color",
  "attribute_2_values": "Gray",
  "catalog_visibility": "visible",
  "id": 9,
  "is_featured": 0,
  "is_in_stock": 1,
  "is_published": 1,
  "is_sold_individually": 0,
  "product_categories": "Clothing>Men>Tops>Hoodies & Sweatshirts|Clothing>Collections>Eco Friendly|Clothing",
  "product_description": "<p>Ideal for cold-weather training or work outdoors, the Chaz Hoodie promises superior warmth with every wear. Thick material blocks out the wind as ribbed cuffs and bottom band seal in body heat.</p> <p>&bull; Two-tone gray heather hoodie.<br />&bull; Drawstring-adjustable hood. <br />&bull; Machine wash/dry.</p>",
  "product_images": "http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_main.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_alt1.jpg,http://eimages.valtim.com/acme-images/product/m/h/mh01-gray_back.jpg",
  "product_name": "Chaz Kangeroo Hoodie-M-Gray",
  "product_price": 52,
  "product_type": "variation",
  "sku": "MH01-M-Gray",
  "stock_quantity": 100
}
